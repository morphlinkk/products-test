import{d as b,u as H,r as h,c as z,o as I,a as d,b as v,e,F as w,f as V,w as $,g,t as y,p as T,h as j,_ as B,i as P,j as x,v as f,n as k,k as C,l as N,m as O}from"./index-BaO5uk8Y.js";import{u as M}from"./products-Bmh2OmRQ.js";const L=r=>(T("data-v-b4961dbc"),r=r(),j(),r),U={class:"products"},F={class:"flex justify-center bg-gray-100 select-none"},Z={class:"flex justify-center flex-wrap gap-4 mx-auto px-4"},A=["onClick"],D=["onClick"],q=L(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6 ml-auto mr-2"},[e("path",{"fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})],-1)),E=[q],R={class:"h-48 w-full overflow-hidden"},G=["src"],J={class:"title my-4 pl-4 font-bold text-gray-500"},K={class:"mb-4 ml-4 text-xl font-semibold text-gray-800"},Q=["onClick"],W={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},X=L(()=>e("path",{d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"},null,-1)),Y=[X],ee={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},te=L(()=>e("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"},null,-1)),se=[te],oe={class:"flex justify-center mt-4"},le={class:"inline-flex -space-x-px cursor-pointer"},ne=["onClick"],S=10,ae=b({__name:"ProductList",setup(r){const t=M(),l=H(),o=h(1),a=z(()=>Math.ceil(t.productsToShow.length/S)),n=z(()=>{const p=(o.value-1)*S,c=p+S;return t.productsToShow.slice(p,c)});function i(p){l.push({name:"productDetails",params:{id:p}})}function _(){o.value<a.value&&o.value++}function m(){o.value>1&&o.value--}return I(()=>{t.products.length===0&&t.fetchProducts()}),(p,c)=>(d(),v("div",U,[e("div",F,[e("div",Z,[(d(!0),v(w,null,V(n.value,s=>(d(),v("div",{key:s.id,onClick:u=>i(s.id),class:"max-w-xs max-h-96 w-full cursor-pointer rounded-lg bg-white p-2 shadow duration-150 hover:scale-105 hover:shadow-md"},[e("div",{class:"icon",onClick:$(u=>g(t).removeProduct(s.id),["stop"])},E,8,D),e("div",R,[e("img",{class:"h-full w-full object-contain object-center",src:s.image,alt:"product"},null,8,G)]),e("p",J,y(s.title),1),e("p",K,y(s.price)+"$",1),e("div",{class:"likeIcon size-8 ml-auto mr-2",onClick:$(u=>g(t).changeLikeStatus(s.id),["stop"])},[s.liked?(d(),v("svg",ee,se)):(d(),v("svg",W,Y))],8,Q)],8,A))),128))])]),e("nav",oe,[e("ul",le,[e("li",null,[e("div",{onClick:c[0]||(c[0]=s=>m()),class:"bg-white border border-gray-300 text-gray-500 hover:bg-gray-100 hover:text-gray-700 ml-0 rounded-l-lg leading-tight py-2 px-3"}," Previous ")]),(d(!0),v(w,null,V(a.value,s=>(d(),v("li",{key:s},[e("div",{onClick:u=>o.value=s,class:"bg-white border border-gray-300 text-gray-500 hover:bg-gray-100 hover:text-gray-700 leading-tight py-2 px-3"},y(s),9,ne)]))),128)),e("li",null,[e("div",{onClick:c[1]||(c[1]=s=>_()),class:"bg-white border border-gray-300 text-gray-500 hover:bg-gray-100 hover:text-gray-700 rounded-r-lg leading-tight py-2 px-3"}," Next ")])])])]))}}),re=B(ae,[["__scopeId","data-v-b4961dbc"]]),ie=r=>(T("data-v-5332d1dc"),r=r(),j(),r),ce={class:"flex justify-center items-center"},ue={class:"relative max-w-xl w-full"},de=["min","max"],ve=["min","max"],pe={class:"relative z-10 h-2"},he=ie(()=>e("div",{class:"absolute z-10 left-0 right-0 bottom-0 top-0 rounded-md bg-gray-200"},null,-1)),ge={class:"flex justify-between items-center py-5"},me=b({__name:"Filters",setup(r){const t=M(),l=h(t.minPrice),o=h(t.maxPrice),a=h(0),n=h(1e3),i=h(0),_=h(0),m=()=>{l.value=Math.min(l.value,o.value),i.value=(l.value-a.value)/(n.value-a.value)*100,t.setMinPrice(l.value)},p=()=>{o.value=Math.max(o.value,l.value),_.value=100-(o.value-a.value)/(n.value-a.value)*100,t.setMaxPrice(o.value)};return I(()=>{m(),p()}),P(()=>t.minPrice,c=>{l.value=c,m()}),P(()=>t.maxPrice,c=>{o.value=c,p()}),(c,s)=>(d(),v("div",ce,[e("div",ue,[e("div",null,[x(e("input",{type:"range",min:a.value,max:n.value,step:"1",onInput:m,"onUpdate:modelValue":s[0]||(s[0]=u=>l.value=u),class:"absolute pointer-events-none appearance-none z-20 h-2 w-full opacity-0 cursor-pointer"},null,40,de),[[f,l.value]]),x(e("input",{type:"range",min:a.value,max:n.value,step:"1",onInput:p,"onUpdate:modelValue":s[1]||(s[1]=u=>o.value=u),class:"absolute pointer-events-none appearance-none z-20 h-2 w-full opacity-0 cursor-pointer"},null,40,ve),[[f,o.value]]),e("div",pe,[he,e("div",{class:"absolute z-20 top-0 bottom-0 rounded-md bg-green-300",style:k({right:_.value+"%",left:i.value+"%"})},null,4),e("div",{class:"absolute z-30 w-6 h-6 top-0 left-0 bg-green-300 rounded-full -mt-2 -ml-1",style:k({left:i.value+"%"})},null,4),e("div",{class:"absolute z-30 w-6 h-6 top-0 right-0 bg-green-300 rounded-full -mt-2 -mr-3",style:k({right:_.value+"%"})},null,4)])]),e("div",ge,[e("div",null,[x(e("input",{type:"text",maxlength:"5",onInput:m,"onUpdate:modelValue":s[2]||(s[2]=u=>l.value=u),class:"px-3 py-2 border border-gray-200 rounded w-24 text-center"},null,544),[[f,l.value]])]),e("div",null,[x(e("input",{type:"text",maxlength:"5",onInput:p,"onUpdate:modelValue":s[3]||(s[3]=u=>o.value=u),class:"px-3 py-2 border border-gray-200 rounded w-24 text-center"},null,544),[[f,o.value]])])])])]))}}),_e=B(me,[["__scopeId","data-v-5332d1dc"]]),xe={class:"flex justify-center gap-5 items-baseline"},fe={class:"basis 3/5 mb-2 w-2/5"},we=e("label",{for:"simple-search",class:"sr-only"},"Search",-1),be={class:"relative w-full"},ye=e("div",{class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},[e("svg",{class:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),ke={class:"w-1/5"},Se={key:0,class:"mt-2 flex items-center flex-col"},$e=b({__name:"SearchBar",setup(r){const t=M(),l=h(t.searchString);P(l,a=>{t.setSearchString(a)});function o(){t.setSearchString(l.value)}return(a,n)=>(d(),v(w,null,[e("div",xe,[e("div",{onClick:n[0]||(n[0]=(...i)=>g(t).toggleShowLikedOnly&&g(t).toggleShowLikedOnly(...i)),class:"font-bold text-blue-700 underline underline-offset-4 cursor-pointer select-none"}," Показывать только избранное "),e("div",fe,[e("form",{class:"flex items-center",onSubmit:$(o,["prevent"])},[we,e("div",be,[ye,x(e("input",{"onUpdate:modelValue":n[1]||(n[1]=i=>l.value=i),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5",placeholder:"Search",required:""},null,512),[[f,l.value]])])],32)]),e("div",ke,[C(_e)])]),g(t).showLikedOnly&&g(t).productsToShow.length===0?(d(),v("div",Se,[N(" Не найдено продуктов по текущему запросу "),e("div",{onClick:n[2]||(n[2]=(...i)=>g(t).toggleShowLikedOnly&&g(t).toggleShowLikedOnly(...i)),class:"text-blue-700 underline underline-offset-4 cursor-pointer select-none"}," Вернуться к списку продуктов ")])):O("",!0)],64))}}),Me=b({__name:"ProductsView",setup(r){return(t,l)=>(d(),v(w,null,[C($e),C(re)],64))}});export{Me as default};

import{z as i}from"./index-CoFOfrwp.js";const o=i("products",{state:()=>({products:[],showLikedOnly:!1,searchString:"",minPrice:0,maxPrice:1e3}),getters:{getLikedProducts:t=>t.products.filter(e=>e.liked===!0),productsToShow(t){let e=t.products;return t.searchString&&(e=e.filter(r=>r.title.toLowerCase().includes(t.searchString.toLowerCase()))),t.showLikedOnly&&(e=e.filter(r=>r.liked)),e=e.filter(r=>r.price>=t.minPrice&&r.price<=t.maxPrice),e}},actions:{async fetchProducts(){try{const e=await(await fetch("https://fakestoreapi.com/products")).json();this.products=e.map(r=>({...r,liked:!1}))}catch(t){console.error("Failed to fetch products:",t)}},addProduct(t){this.products.push(t)},updateProduct(t){const e=this.products.findIndex(r=>r.id===t.id);e!==-1?this.products[e]={...this.products[e],...t}:console.error("Product not found")},removeProduct(t){this.products=this.products.filter(e=>e.id!==t)},changeLikeStatus(t){const e=this.products.find(r=>r.id===t);e&&(e.liked=!e.liked)},toggleShowLikedOnly(){this.showLikedOnly=!this.showLikedOnly},setSearchString(t){this.searchString=t},setMinPrice(t){this.minPrice=t},setMaxPrice(t){this.maxPrice=t}}});export{o as u};
